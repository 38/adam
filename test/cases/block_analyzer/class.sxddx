;this file contains test cases for the intra-block analyzer
(class (attrs public) testClass
	(super java/lang/object)
	(source "testClass.java")
	(field (attrs public) value1 int)
	(field (attrs public) value2 [object testClass])
	(field (attrs public) value3 int)
	(method (attrs public) case1() void 
		(limit registers 20)
		(line 1)
		; assume v0 is 'this' pointer
		; test the cmp instruction
		(const v1 100)
		(const v2 200)
		(cmp-long v3 v1 v2)
		(new-instance v0 testClass)
		(iput v3 v0 testClass.value1 int)
		(iget v4 v0 testClass.value1 int)
		(return-void)
	)
	(method (attrs public) case2() void
	 	(limit registers 4)
		(line 1)
		(new-instance v0 testClass)
		(new-instance v1 testClass)
		(new-instance v2 testClass)
		(iput v1 v0 testClass.value2 [object testClass])
		(iput v2 v1 testClass.value2 [object testClass])
		(iput v0 v2 testClass.value2 [object testClass])
		;(instance-of v3 v1 testClass)
		(const v1 0)
		(const v2 0)
		(const v0 0)
		(cmp-long v3 v0 v2)
		(return-void)
	)
	(method (attrs public) case3() void
	 	(limit registers 4)
		(line 1)
		(const v0 -1)
		(const v1 1)
		(move v2 v1)
		(move v1 v0)
		(move v0 v2)
		(return-void)
	)
)
